"use strict";

// Imports
const integer = require("./integer.js");
const isNegative = require("./isNegative.js");
const isNumber = require("./isNumber.js");
const negative = require("./negative.js");
const parse = require("../utils/parse.js");
const plus = require("../operators/plus.js");
const positive = require("./positive.js");
const shift = require("./shift.js");
const trim = require("../utils/trim.js");

/**
 * Ceils a number-like value to the closest number
 * @param {string|number} v Number-like value
 * @param {?string|number} l Decimal length
 * @returns {string}
 */
function ceil(v, l = 0) {
    if(!isNumber(v) || !isNumber(l)) throw new TypeError("Argument is not a number-like value");
    if(isNegative(v)) {
        let floor = require("./floor.js");
        return negative(floor(positive(v), l));
    };
    let il = integer(l), nil = negative(il), pv = parse(shift(v, il));
    console.log(pv)
    return trim(pv[2] ? shift(plus(pv[1], "1"), nil) : shift(pv[1], nil));
};

// Exports
module.exports = ceil;