"use strict";

// Imports
const integer = require("./integer.js");
const isNegative = require("./isNegative.js");
const isNumber = require("./isNumber.js");
const negative = require("./negative.js");
const parse = require("../utils/parse.js");
const positive = require("./positive.js");
const shift = require("./shift.js");
const trim = require("../utils/trim.js");

/**
 * Ceils a number-like value to the closest number
 * @param {string|number} v Number-like value
 * @param {?string|number} l Decimal length
 * @returns {string}
 */
function floor(v, l = 0) {
    if(!isNumber(v) || !isNumber(l)) throw new TypeError("Argument is not a number-like value");
    if(isNegative(v)) {
        let ceil = require("./ceil.js");
        return negative(ceil(positive(v), l));
    };
    let il = integer(l), pv = parse(shift(v, il));
    return trim(shift(pv[1], negative(il)));
};

// Exports
module.exports = floor;