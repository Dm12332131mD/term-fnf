"use strict";

// Imports
const ceil = require("./ceil.js");
const compare = require("./compare.js");
const decimal = require("./decimal.js");
const floor = require("./floor.js");
const integer = require("./integer.js");
const isNumber = require("./isNumber.js");
const negative = require("./negative.js");
const shift = require("./shift.js");

/**
 * Rounds a number-like value to the closest number
 * @param {string|number} v Number-like value
 * @param {?string|number} d Decimal place
 * @returns 
 */
function round(v, l = 0) {
    if(!isNumber(v) || !isNumber(l)) throw new TypeError("Argument is not a number-like value");
    let iv = decimal(shift(v, negative(integer(l))));
    return compare(iv[0] || "0", "5") === -1 ? floor(v, l) : ceil(v, l);
};

module.exports = round;