"use strict";

// Imports
const format = require("../utils/format.js");
const integer = require("./integer.js");
const isNumber = require("./isNumber.js");
const parse = require("../utils/parse.js");

/**
 * Shifts a number-like value
 * @param {string|number} v Number-like value
 * @param {string|number} l Length to shift
 * @returns 
 */
function shift(v, l) {
    if(!isNumber(v) || !isNumber(l)) throw new TypeError("Argument is not a number-like value");
    let pv = parse(v, true), sv = pv.slice(1).join(""), pl = parse(+integer(l) - pv[2].length);
    if(pl[1] === "0") return pv[0] + sv;
    else if(pl[0] === "+") return sv + "0".repeat(+format(pl));
    else if(+pl[1] < sv.length) {
        let d = sv.length - +pl[1];
        return `${pv[0]}${sv.slice(0, d)}.${sv.slice(d)}`;
    }
    else return `${pv[0]}0.${"0".repeat(+pl[1] - sv.length)}${sv}`;
};

// Exports
module.exports = shift;